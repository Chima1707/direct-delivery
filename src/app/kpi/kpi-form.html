<div class="page-header">
  <h1>Facility KPI</h1>
</div>
<div class="panel panel-default">
  <div class="panel-body">
    <a ui-sref="facilityKPIListView"
       class="btn btn-primary btn-lg">
      <i class="fa fa-list"></i>
      <span>View Status</span>
    </a>
    <br/><br/>
    <a ui-sref="home.schedule"
       class="btn btn-default btn-lg btn-block">
      <i class="fa fa-arrow-circle-left"></i>
      <span>Back</span>
    </a>

    <br/>

    <div class="row">
      <div class="col-sm-6">
        <label>KPI Date</label>
        <input type="date"
               ng-change="facKPICtrl.getByDriverAndDate()"
               class="form-control input-lg"
               ng-value="facKPICtrl.selectedDate"
               ng-model="facKPICtrl.selectedDate"/>
      </div>

      <div class="col-sm-6">
        <label>Facility</label>
        <select class="form-control input-lg"
                ng-change="facKPICtrl.getFacilityKPI()"
                ng-model="facKPICtrl.selectedFacilityId">
          <option value="" ng-selected="true">Select facility</option>
          <option ng-repeat="kpi in facKPICtrl.kpiList"
                  ng-value="kpi.facility.id"> {{ kpi.facility.name }}
          </option>
        </select>
      </div>
    </div>

    <div class="page-header">
      <h1 ng-bind="facKPICtrl.selectedFacility.name"></h1>
    </div>

    <div class="row"
         ng-show="!facKPICtrl.isValidKPI() && facKPICtrl.selectedFacility !== null">
      <div class="col-sm-12">
        <div class="alert alert-info" role="alert">
          There is no facility KPI available for selected facility!
        </div>
      </div>
    </div>

    <div class="row" ng-hide="facKPICtrl.hideOptions()">
      <div class="btn-group btn-group-justified">
        <div class="btn-group">
          <button class="btn btn-primary btn-lg btn-left"
              ng-click="facKPICtrl.showKPIForm()">
            <i class="fa fa-pencil-square-o"></i>
            <span>Add Coverage Report</span>
          </button>
        </div>
        <div class="btn-group">
          <button class="btn btn-warning btn-lg btn-right"
              ng-click="facKPICtrl.showSkipForm()">
            <span>Collect Later</span>
            <i class="fa fa-refresh"></i>
          </button>
        </div>
      </div>
    </div>

    <div ng-include="'app/kpi/partials/skip-kpi.html'"
         ng-show="facKPICtrl.shouldSkipKPI()">
    </div>

    <div ng-include="'app/kpi/partials/add-kpi.html'"
         ng-show="facKPICtrl.shouldAddKPI()">
    </div>


  </div>
</div>
